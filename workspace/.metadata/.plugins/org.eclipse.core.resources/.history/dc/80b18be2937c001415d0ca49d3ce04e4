package me.p2p.message;

import org.json.JSONObject;

/**
 * Khi các node được kết nối với nhau thì các node sẽ giao tiếp bằng<br>
 * thông điệp. Nội dung của thông điệp bao gồm:<br>
 * - Loại thông điệp.<br>
 * - Dữ liệu của thông điệp.<br>
 * @author Sang
 *
 */
public class Message {
	EMsgType msgType;
	JSONObject msgData;
	
	public Message(EMsgType msgType, JSONObject msgData) {
		// TODO Auto-generated constructor stub
		this.msgType = msgType;
		this.msgData = msgData;
	}
	
	public EMsgType getMsgType() {
		return msgType;
	}
	
	public JSONObject getMsgData() {
		return msgData;
	}
	
	/**
	 * Vì message được gửi và nhận theo giao thức json nên cần phải<br>
	 * có hàm chuyển đổi thành json.
	 */
	public JSONObject toJsonObject() {
		JSONObject jsMsg = new JSONObject();
		jsMsg.accumulate(MsgAttribute.MSG_TYPE, msgType.toString());
	}
	
	private String convertMsgTypeToString() {
		String result = null;
		switch (msgType) {
		case JOIN:
			result = MsgAttribute.MSG_TYPE_JOIN;
			break;
		case LEAVE:
			result = MsgAttribute.MSG_TYPE_LEAVE;
		case UPDATE:
			result = MsgAttribute.MSG_TYPE_UPDATE;
			break;
		case TRANSFER_LIST:
			result = MsgAttribute.MSG_TYPE_TRANSFERLIST;
		}
	}
	
	private void convertMsgTypeFromString(String sMsgType) {
		switch (key) {
		case value:
			
			break;

		default:
			break;
		}
	}
}
